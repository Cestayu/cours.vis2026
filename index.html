<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cinema Dashboard - Deluxe Edition</title>
  <link href="https://fonts.googleapis.com/css2?family=Limelight&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at center, #1a1a1a 0%, #000 70%);
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #f5d76e;
      font-family: 'Segoe UI', Arial, sans-serif;
    }

    h1 {
      margin-top: 30px;
      font-family: 'Limelight', cursive;
      font-size: 70px;
      color: #f7c873;
      text-shadow: 0 0 15px rgba(247, 200, 115, 0.5);
    }

    /* --- Interactive Champion Card --- */
    #champion-section {
      width: 90%;
      max-width: 800px;
      margin-bottom: 30px;
      perspective: 1500px; /* Crucial for 3D flip */
    }

    .flip-card {
      background-color: transparent;
      width: 100%;
      height: 250px;
      cursor: pointer;
    }

    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      text-align: center;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      transform-style: preserve-3d;
      box-shadow: 0 0 30px rgba(247, 200, 115, 0.2);
      border-radius: 20px;
    }

    .flip-card:hover .flip-card-inner {
      transform: rotateY(180deg);
    }

    .flip-card-front, .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      -webkit-backface-visibility: hidden;
      backface-visibility: hidden;
      border: 2px solid #f7c873;
      border-radius: 20px;
      display: flex;
      align-items: center;
      padding: 20px;
      box-sizing: border-box;
      background: linear-gradient(145deg, #1a1a1a, #050505);
    }

    .flip-card-back {
      transform: rotateY(180deg);
      flex-direction: column;
      justify-content: center;
      background: #f7c873;
      color: #000;
    }

    .champion-poster {
      width: 140px;
      height: 200px;
      border-radius: 10px;
      background-size: cover;
      margin-right: 30px;
      box-shadow: 5px 5px 15px rgba(0,0,0,0.5);
    }

    .gold-text { color: #f7c873; font-weight: bold; text-transform: uppercase; }

    /* --- Visualizations --- */
    #boxoffice-viz, #trends-viz {
      width: 90%;
      max-width: 1000px;
      background: rgba(0,0,0,0.7);
      border: 1px solid rgba(247, 200, 115, 0.2);
      border-radius: 20px;
      padding: 25px;
      margin-bottom: 40px;
    }

    .year-display { font-size: 60px; font-family: 'Limelight'; color: #f7c873; margin-bottom: -10px;}

    .film {
      display: flex;
      padding: 10px;
      border-bottom: 1px solid rgba(247, 200, 115, 0.1);
      transition: background 0.3s;
    }
    .film:hover { background: rgba(247, 200, 115, 0.05); }

    .poster-sm { width: 50px; height: 75px; background-size: cover; border-radius: 4px; margin-right: 15px; }

    input[type=range] {
      accent-color: #f7c873;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <h1>Cinema</h1>

  <section id="champion-section">
    <p style="text-align: center;" class="gold-text">✨ Spotlight: Year Champion (Hover to Flip) ✨</p>
    <div id="champion-mount"></div>
  </section>

  <section id="boxoffice-viz">
    <div style="text-align: center;">
        <div class="year-display" id="boxoffice-year">2013</div>
        <input type="range" min="2013" max="2023" step="1" value="2013" id="boxoffice-slider" style="width: 80%">
    </div>
    <div id="boxoffice-films" style="margin-top: 20px;"></div>
  </section>

  <section id="trends-viz">
    <h2 style="font-family: 'Limelight'; text-align: center;">Market Growth ($ Billions)</h2>
    <canvas id="trendChart"></canvas>
  </section>

  <script>
    const data = [
      {"year":2013,"rank":1,"title":"Frozen","boxOffice":"1280802282","genre":"Animation","director":"Chris Buck, Jennifer Lee","poster":"https://image.tmdb.org/t/p/w500/kgwjIb1CkFCftymFGOtdLlOrWYv.jpg","desc":"Fearless optimist Anna teams up with rugged mountain man Kristoff and a loyal reindeer."},
      {"year":2014,"rank":1,"title":"Transformers 4","boxOffice":"1104054072","genre":"Action","director":"Michael Bay","poster":"https://image.tmdb.org/t/p/w500/jyzrfx2WaeY60kYZpPYepSjGz4S.jpg","desc":"An automobile mechanic and his daughter make a discovery that brings down the Autobots."},
      {"year":2015,"rank":1,"title":"Star Wars: Force Awakens","boxOffice":"2068223624","genre":"Sci-Fi","director":"J. J. Abrams","poster":"https://image.tmdb.org/t/p/w500/wqnLdwVXoBjKibFRR5U3y0aDUhs.jpg","desc":"As a new threat to the galaxy rises, Rey, a desert scavenger, and Finn, a former stormtrooper join forces."},
      {"year":2016,"rank":1,"title":"Captain America: Civil War","boxOffice":"1153337496","genre":"Action","director":"Russo Brothers","poster":"https://image.tmdb.org/t/p/w500/rAGiXaUfPu0D2BJ1JMQzJiD8tFl.jpg","desc":"Political involvement in the Avengers' affairs causes a rift between Captain America and Iron Man."},
      {"year":2017,"rank":1,"title":"Star Wars: Last Jedi","boxOffice":"1334407706","genre":"Sci-Fi","director":"Rian Johnson","poster":"https://image.tmdb.org/t/p/w500/kOVEVeg59E0wsnXmF9nrh6OmWII.jpg","desc":"Rey develops her newly discovered abilities with the guidance of Luke Skywalker."},
      {"year":2018,"rank":1,"title":"Avengers: Infinity War","boxOffice":"2048359754","genre":"Action","director":"Russo Brothers","poster":"https://image.tmdb.org/t/p/w500/7WsyChQLEftFiDOVTGkv3hFpyyt.jpg","desc":"The Avengers and their allies must be willing to sacrifice all in an attempt to defeat Thanos."},
      {"year":2019,"rank":1,"title":"Avengers: Endgame","boxOffice":"2797501328","genre":"Action","director":"Russo Brothers","poster":"https://image.tmdb.org/t/p/w500/or06FN3Dka5tukK1e9sl16pB3iy.jpg","desc":"After the devastating events of Infinity War, the universe is in ruins."},
      {"year":2020,"rank":1,"title":"The Eight Hundred","boxOffice":"461421559","genre":"War","director":"Guan Hu","poster":"https://image.tmdb.org/t/p/w500/pk4GFAALvJhckzPY5h3L1RkfSD6.jpg","desc":"From the acclaimed filmmaker of Mr. Six comes a major historical action war epic."},
      {"year":2021,"rank":1,"title":"Spider-Man: No Way Home","boxOffice":"1921847111","genre":"Action","director":"Jon Watts","poster":"https://image.tmdb.org/t/p/w500/1g0dhYtq4irTY1GPXvft6k4YLjm.jpg","desc":"With Spider-Man's identity now revealed, Peter asks Doctor Strange for help."},
      {"year":2022,"rank":1,"title":"Avatar: Way of Water","boxOffice":"2320250281","genre":"Sci-Fi","director":"James Cameron","poster":"https://image.tmdb.org/t/p/w500/t6HIqrRAclMCA60NsSmeqe9RmNV.jpg","desc":"Jake Sully lives with his newfound family formed on the extrasolar moon Pandora."},
      {"year":2023,"rank":1,"title":"Barbie","boxOffice":"1445638421","genre":"Comedy","director":"Greta Gerwig","poster":"https://image.tmdb.org/t/p/w500/iuFNMS8U5cb6xfzi51Dbkovj7vM.jpg","desc":"Barbie and Ken are having the time of their lives in the colorful and seemingly perfect world."}
    ];

    const slider = document.getElementById("boxoffice-slider");
    const yearLabel = document.getElementById("boxoffice-year");
    const champMount = document.getElementById("champion-mount");
    const filmsPanel = document.getElementById("boxoffice-films");

    function render() {
      const year = slider.value;
      yearLabel.textContent = year;
      const champ = data.find(d => d.year == year);

      // Render Champion Flip Card
      champMount.innerHTML = `
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <div class="champion-poster" style="background-image:url('${champ.poster}')"></div>
              <div style="text-align: left;">
                <h2 style="margin:0; font-family:'Limelight'">${champ.title}</h2>
                <p class="gold-text">$${(champ.boxOffice/1e9).toFixed(2)} Billion</p>
                <p>Director: ${champ.director}</p>
              </div>
            </div>
            <div class="flip-card-back">
              <h3>Backstage Pass</h3>
              <p style="padding: 0 40px; font-style: italic;">"${champ.desc}"</p>
              <div style="font-weight: bold; margin-top: 10px;">Genre: ${champ.genre}</div>
            </div>
          </div>
        </div>
      `;

      // Simplified list view for the rest
      filmsPanel.innerHTML = data.filter(d => d.year == year).map(f => `
        <div class="film">
            <div class="poster-sm" style="background-image:url('${f.poster}')"></div>
            <div>
                <div style="font-weight:bold">${f.title}</div>
                <div style="font-size:0.8em; color:#f7c873">$${(f.boxOffice/1e6).toFixed(0)}M Total</div>
            </div>
        </div>
      `).join('');
    }

    function initChart() {
      const ctx = document.getElementById('trendChart').getContext('2d');
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.map(d => d.year),
          datasets: [{
            label: 'Annual Peak Revenue (Billions)',
            data: data.map(d => d.boxOffice / 1e9),
            borderColor: '#f7c873',
            backgroundColor: 'rgba(247, 200, 115, 0.2)',
            tension: 0.4,
            fill: true
          }]
        },
        options: {
          animation: { duration: 2500, easing: 'easeOutQuart' },
          plugins: { legend: { labels: { color: '#f7c873' } } },
          scales: {
            y: { ticks: { color: '#f7c873' }, grid: { color: '#333' } },
            x: { ticks: { color: '#f7c873' } }
          }
        }
      });
    }

    slider.oninput = render;
    render();
    initChart();
  </script>
</body>
</html>
