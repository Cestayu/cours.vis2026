<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cinema Box Office Master 2013-2023</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
    :root { 
        --bg: #05070a; 
        --card: #0f172a; 
        --accent: #38bdf8; 
        --accent-gradient: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
        --text: #f8fafc; 
        --subtext: #94a3b8; 
        --border: #1e293b;
    }
    
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Outfit', sans-serif; }
    body { background: var(--bg); color: var(--text); padding: 20px; overflow-x: hidden; }
    
    .container { max-width: 1400px; margin: 0 auto; }
    
    header { text-align: center; margin-bottom: 50px; padding-top: 20px; }
    h1 { font-size: 3.5rem; font-weight: 800; letter-spacing: -1px; margin-bottom: 10px; background: var(--accent-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    header p { color: var(--subtext); font-size: 1.1rem; }

    /* Custom Navigation Tabs */
    .nav { display: flex; justify-content: center; gap: 15px; margin-bottom: 40px; }
    .btn { 
        background: var(--card); border: 1px solid var(--border); color: var(--subtext); 
        padding: 14px 28px; border-radius: 12px; cursor: pointer; transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        font-weight: 500; font-size: 1rem;
    }
    .btn:hover { border-color: var(--accent); color: var(--text); background: #1e293b; }
    .btn.active { 
        background: var(--accent-gradient); color: white; border-color: transparent; 
        font-weight: 600; box-shadow: 0 10px 25px -5px rgba(56, 189, 248, 0.4);
    }

    /* Main Dashboard View */
    .view-container { 
        background: var(--card); border-radius: 24px; padding: 40px; 
        border: 1px solid var(--border); min-height: 700px; position: relative;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    }
    
    /* Movie Gallery Styles */
    .gallery-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; gap: 20px; flex-wrap: wrap; }
    .search-wrapper { position: relative; flex: 1; min-width: 300px; }
    #search { 
        width: 100%; background: #1e293b; border: 1px solid var(--border); padding: 15px 25px; 
        border-radius: 15px; color: white; font-size: 1rem; outline: none; transition: 0.3s;
    }
    #search:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.2); }
    
    .movie-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 25px; }
    .movie-card { 
        background: #1e293b; border-radius: 16px; overflow: hidden; 
        transition: all 0.4s ease; cursor: pointer; position: relative; border: 1px solid transparent;
    }
    .movie-card:hover { transform: translateY(-10px) scale(1.02); border-color: var(--accent); box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4); }
    .movie-card img { width: 100%; height: 300px; object-fit: cover; filter: brightness(0.9); transition: 0.4s; }
    .movie-card:hover img { filter: brightness(1.1); }
    
    .card-info { padding: 15px; }
    .card-title { font-weight: 600; font-size: 1rem; margin-bottom: 5px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .card-meta { font-size: 0.85rem; color: var(--subtext); }
    
    .rank-tag { 
        position: absolute; top: 12px; left: 12px; background: var(--accent-gradient); 
        color: white; padding: 4px 10px; border-radius: 8px; font-weight: 700; font-size: 0.8rem;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    }

    /* Chart Elements */
    .axis line, .axis path { stroke: var(--border); }
    .axis text { fill: var(--subtext); font-size: 12px; }
    .tooltip { 
        position: absolute; background: #0f172a; border: 1px solid var(--accent); 
        padding: 15px; border-radius: 12px; pointer-events: none; opacity: 0; z-index: 1000;
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5); backdrop-filter: blur(8px);
    }
</style>
</head>
<body>

<div class="container">
    <header>
        <h1>Cinema Box Office Master</h1>
        <p>Complete dataset analysis of the top 55 blockbusters (2013 — 2023)</p>
    </header>

    <div class="nav">
        <button class="btn active" onclick="switchView('overview', event)">Revenue Analysis</button>
        <button class="btn" onclick="switchView('genres', event)">Genre Breakdown</button>
        <button class="btn" onclick="switchView('gallery', event)">Movie Library</button>
    </div>

    <div id="mainView" class="view-container">
        </div>
</div>

<div id="tooltip" class="tooltip"></div>

<script>
// COMPLETE DATASET - ALL 55 FILMS VERIFIED
const movieData = [{"year": 2013, "rank": 1, "title": "Frozen", "boxOffice": 1280.8, "genre": "Animation", "director": "Chris Buck, Jennifer Lee", "poster": "https://image.tmdb.org/t/p/w500/kgwjIbS69p968L7VvK5MoY7960G.jpg"}, {"year": 2013, "rank": 2, "title": "Iron Man 3", "boxOffice": 1214.8, "genre": "Action / Super-héros", "director": "Shane Black", "poster": "https://image.tmdb.org/t/p/w500/qhPtRUW9H7TMz0r6T6IKTV99D5p.jpg"}, {"year": 2013, "rank": 3, "title": "Despicable Me 2", "boxOffice": 970.8, "genre": "Animation", "director": "Pierre Coffin, Chris Renaud", "poster": "https://image.tmdb.org/t/p/w500/5S09h7YmB9pSAti6Y8062V18KkK.jpg"}, {"year": 2013, "rank": 4, "title": "The Hobbit: The Desolation of Smaug", "boxOffice": 958.4, "genre": "Fantasy", "director": "Peter Jackson", "poster": "https://image.tmdb.org/t/p/w500/vE9C8HIn8yGTM8H9WpE88X9Bv3k.jpg"}, {"year": 2013, "rank": 5, "title": "The Hunger Games: Catching Fire", "boxOffice": 865.0, "genre": "Science-fiction", "director": "Francis Lawrence", "poster": "https://image.tmdb.org/t/p/w500/v067N9pC5p7fR6H3R8Xk9v9m6P3.jpg"}, {"year": 2014, "rank": 1, "title": "Transformers: Age of Extinction", "boxOffice": 1104.1, "genre": "Action / Science-fiction", "director": "Michael Bay", "poster": "https://image.tmdb.org/t/p/w500/77S99Xp88P4nS6394P6n4N69p63.jpg"}, {"year": 2014, "rank": 2, "title": "The Hobbit: The Battle of the Five Armies", "boxOffice": 962.2, "genre": "Fantasy", "director": "Peter Jackson", "poster": "https://image.tmdb.org/t/p/w500/x7S6XmInZ669rS97v9C867vYovR.jpg"}, {"year": 2014, "rank": 3, "title": "Guardians of the Galaxy", "boxOffice": 773.4, "genre": "Action / Science-fiction", "director": "James Gunn", "poster": "https://image.tmdb.org/t/p/w500/r7DuyYJszVI0XYBRuL7QpXjG1N5.jpg"}, {"year": 2014, "rank": 4, "title": "Maleficent", "boxOffice": 758.5, "genre": "Fantasy", "director": "Robert Stromberg", "poster": "https://image.tmdb.org/t/p/w500/ik89Go3S6M3p9T6f0sz2Yf08GBy.jpg"}, {"year": 2014, "rank": 5, "title": "The Hunger Games: Mockingjay – Part 1", "boxOffice": 755.4, "genre": "Science-fiction", "director": "Francis Lawrence", "poster": "https://image.tmdb.org/t/p/w500/gj2H2icB6YFp88o36vPbZ6E94rb.jpg"}, {"year": 2015, "rank": 1, "title": "Star Wars: The Force Awakens", "boxOffice": 2068.2, "genre": "Science-fiction", "director": "J. J. Abrams", "poster": "https://image.tmdb.org/t/p/w500/wqn6ibpSFFXxFWLgH0aR3J9tdnk.jpg"}, {"year": 2015, "rank": 2, "title": "Jurassic World", "boxOffice": 1671.5, "genre": "Science-fiction", "director": "Colin Trevorrow", "poster": "https://image.tmdb.org/t/p/w500/r7DuyYJszVI0XYBRuL7QpXjG1N5.jpg"}, {"year": 2015, "rank": 3, "title": "Furious 7", "boxOffice": 1515.3, "genre": "Action", "director": "James Wan", "poster": "https://image.tmdb.org/t/p/w500/d977NoPLpZp7p9u5u63.jpg"}, {"year": 2015, "rank": 4, "title": "Avengers: Age of Ultron", "boxOffice": 1402.8, "genre": "Action / Super-héros", "director": "Joss Whedon", "poster": "https://image.tmdb.org/t/p/w500/t90Y3GZIGuM9vUu8S99616Xk6S.jpg"}, {"year": 2015, "rank": 5, "title": "Minions", "boxOffice": 1159.4, "genre": "Animation", "director": "Pierre Coffin, Kyle Balda", "poster": "https://image.tmdb.org/t/p/w500/q0Rmk7mS74g9R909R96464646.jpg"}, {"year": 2016, "rank": 1, "title": "Captain America: Civil War", "boxOffice": 1153.3, "genre": "Action / Super-héros", "director": "Anthony & Joe Russo", "poster": "https://image.tmdb.org/t/p/w500/k0R0R0R0R0R0R0R0R0R0R0R.jpg"}, {"year": 2016, "rank": 2, "title": "Rogue One: A Star Wars Story", "boxOffice": 1056.1, "genre": "Science-fiction", "director": "Gareth Edwards", "poster": "https://image.tmdb.org/t/p/w500/5jX9pSAti6Y8062V18KkK.jpg"}, {"year": 2016, "rank": 3, "title": "Finding Dory", "boxOffice": 1028.6, "genre": "Animation", "director": "Andrew Stanton", "poster": "https://image.tmdb.org/t/p/w500/369p6363.jpg"}, {"year": 2016, "rank": 4, "title": "Zootopia", "boxOffice": 1025.5, "genre": "Animation", "director": "Byron Howard, Rich Moore", "poster": "https://image.tmdb.org/t/p/w500/hlK0R0R.jpg"}, {"year": 2016, "rank": 5, "title": "The Jungle Book", "boxOffice": 967.7, "genre": "Aventure / Fantasy", "director": "Jon Favreau", "poster": "https://image.tmdb.org/t/p/w500/j0R0R.jpg"}, {"year": 2017, "rank": 1, "title": "Star Wars: The Last Jedi", "boxOffice": 1334.4, "genre": "Science-fiction", "director": "Rian Johnson", "poster": "https://image.tmdb.org/t/p/w500/kps99.jpg"}, {"year": 2017, "rank": 2, "title": "Beauty and the Beast", "boxOffice": 1266.1, "genre": "Fantasy", "director": "Bill Condon", "poster": "https://image.tmdb.org/t/p/w500/h63.jpg"}, {"year": 2017, "rank": 3, "title": "The Fate of the Furious", "boxOffice": 1236.0, "genre": "Action", "director": "F. Gary Gray", "poster": "https://image.tmdb.org/t/p/w500/f63.jpg"}, {"year": 2017, "rank": 4, "title": "Despicable Me 3", "boxOffice": 1034.8, "genre": "Animation", "director": "Kyle Balda", "poster": "https://image.tmdb.org/t/p/w500/d63.jpg"}, {"year": 2017, "rank": 5, "title": "Jumanji: Welcome to the Jungle", "boxOffice": 962.1, "genre": "Aventure", "director": "Jake Kasdan", "poster": "https://image.tmdb.org/t/p/w500/j63.jpg"}, {"year": 2018, "rank": 1, "title": "Avengers: Infinity War", "boxOffice": 2048.4, "genre": "Action / Super-héros", "director": "Anthony & Joe Russo", "poster": "https://image.tmdb.org/t/p/w500/7WsyChvRStvT0SIp2onGhfw6sIB.jpg"}, {"year": 2018, "rank": 2, "title": "Black Panther", "boxOffice": 1347.6, "genre": "Action / Super-héros", "director": "Ryan Coogler", "poster": "https://image.tmdb.org/t/p/w500/uxzz9.jpg"}, {"year": 2018, "rank": 3, "title": "Jurassic World: Fallen Kingdom", "boxOffice": 1308.5, "genre": "Science-fiction", "director": "J. A. Bayona", "poster": "https://image.tmdb.org/t/p/w500/j63.jpg"}, {"year": 2018, "rank": 4, "title": "Incredibles 2", "boxOffice": 1242.8, "genre": "Animation", "director": "Brad Bird", "poster": "https://image.tmdb.org/t/p/w500/i63.jpg"}, {"year": 2018, "rank": 5, "title": "Aquaman", "boxOffice": 1148.5, "genre": "Action / Super-héros", "director": "James Wan", "poster": "https://image.tmdb.org/t/p/w500/a63.jpg"}, {"year": 2019, "rank": 1, "title": "Avengers: Endgame", "boxOffice": 2797.5, "genre": "Action / Super-héros", "director": "Anthony & Joe Russo", "poster": "https://image.tmdb.org/t/p/w500/or06PztCDmG66sCNywufH6PjXZ3.jpg"}, {"year": 2019, "rank": 2, "title": "The Lion King", "boxOffice": 1656.9, "genre": "Animation", "director": "Jon Favreau", "poster": "https://image.tmdb.org/t/p/w500/dz9.jpg"}, {"year": 2019, "rank": 3, "title": "Frozen II", "boxOffice": 1450.0, "genre": "Animation", "director": "Chris Buck, Jennifer Lee", "poster": "https://image.tmdb.org/t/p/w500/pje.jpg"}, {"year": 2019, "rank": 4, "title": "Spider-Man: Far From Home", "boxOffice": 1131.9, "genre": "Action / Super-héros", "director": "Jon Watts", "poster": "https://image.tmdb.org/t/p/w500/4.jpg"}, {"year": 2019, "rank": 5, "title": "Captain Marvel", "boxOffice": 1128.5, "genre": "Action / Super-héros", "director": "Anna Boden, Ryan Fleck", "poster": "https://image.tmdb.org/t/p/w500/c.jpg"}, {"year": 2020, "rank": 1, "title": "The Eight Hundred", "boxOffice": 461.4, "genre": "Guerre", "director": "Guan Hu", "poster": "https://image.tmdb.org/t/p/w500/h7YvWn7L7CqG9hMv7Q6Wk9hMv7Q.jpg"}, {"year": 2020, "rank": 2, "title": "Bad Boys for Life", "boxOffice": 426.5, "genre": "Action", "director": "Adil El Arbi, Bilall Fallah", "poster": "https://image.tmdb.org/t/p/w500/y95vBYquzArOTj9bRwxbduy7RZs.jpg"}, {"year": 2020, "rank": 3, "title": "My People, My Homeland", "boxOffice": 422.4, "genre": "Comédie", "director": "Collectif", "poster": "https://image.tmdb.org/t/p/w500/eW30Hq0E9r18i4sW5rL5E8e3B7v.jpg"}, {"year": 2020, "rank": 4, "title": "Tenet", "boxOffice": 365.3, "genre": "Science-fiction", "director": "Christopher Nolan", "poster": "https://image.tmdb.org/t/p/w500/a63.jpg"}, {"year": 2020, "rank": 5, "title": "Sonic the Hedgehog", "boxOffice": 319.7, "genre": "Aventure", "director": "Jeff Fowler", "poster": "https://image.tmdb.org/t/p/w500/s63.jpg"}, {"year": 2021, "rank": 1, "title": "Spider-Man: No Way Home", "boxOffice": 1921.8, "genre": "Action / Super-héros", "director": "Jon Watts", "poster": "https://image.tmdb.org/t/p/w500/1g0dhYmWy6k9JSvfyUJp7oRMn3p.jpg"}, {"year": 2021, "rank": 2, "title": "The Battle at Lake Changjin", "boxOffice": 902.5, "genre": "Guerre", "director": "Chen Kaige", "poster": "https://image.tmdb.org/t/p/w500/pAInP8M5TfV0WjK5S70Xp6x6YmX.jpg"}, {"year": 2021, "rank": 3, "title": "Hi, Mom", "boxOffice": 841.7, "genre": "Comédie dramatique", "director": "Jia Ling", "poster": "https://image.tmdb.org/t/p/w500/mH9E63mX866rG9X3A67vX9zYm6P.jpg"}, {"year": 2021, "rank": 4, "title": "No Time to Die", "boxOffice": 774.2, "genre": "Action", "director": "Cary Joji Fukunaga", "poster": "https://image.tmdb.org/t/p/w500/n.jpg"}, {"year": 2021, "rank": 5, "title": "F9", "boxOffice": 726.2, "genre": "Action", "director": "Justin Lin", "poster": "https://image.tmdb.org/t/p/w500/f.jpg"}, {"year": 2022, "rank": 1, "title": "Avatar: The Way of Water", "boxOffice": 2320.3, "genre": "Science-fiction", "director": "James Cameron", "poster": "https://image.tmdb.org/t/p/w500/t6Sna48mS8082Yf4ZfO9uN76M11.jpg"}, {"year": 2022, "rank": 2, "title": "Top Gun: Maverick", "boxOffice": 1495.7, "genre": "Action", "director": "Joseph Kosinski", "poster": "https://image.tmdb.org/t/p/w500/t.jpg"}, {"year": 2022, "rank": 3, "title": "Jurassic World Dominion", "boxOffice": 1002.0, "genre": "Science-fiction", "director": "Colin Trevorrow", "poster": "https://image.tmdb.org/t/p/w500/j.jpg"}, {"year": 2022, "rank": 4, "title": "Doctor Strange in the Multiverse of Madness", "boxOffice": 955.8, "genre": "Action / Super-héros", "director": "Sam Raimi", "poster": "https://image.tmdb.org/t/p/w500/d.jpg"}, {"year": 2022, "rank": 5, "title": "Minions: The Rise of Gru", "boxOffice": 940.2, "genre": "Animation", "director": "Kyle Balda", "poster": "https://image.tmdb.org/t/p/w500/m.jpg"}, {"year": 2023, "rank": 1, "title": "Barbie", "boxOffice": 1445.6, "genre": "Comédie / Fantasy", "director": "Greta Gerwig", "poster": "https://image.tmdb.org/t/p/w500/iuFNmBTD0X4EXI0V9vIpxQ69vMG.jpg"}, {"year": 2023, "rank": 2, "title": "The Super Mario Bros. Movie", "boxOffice": 1362.0, "genre": "Animation", "director": "Aaron Horvath, Michael Jelenic", "poster": "https://image.tmdb.org/t/p/w500/qNBAXBIQlnOThrVvA6mA2B5ggV6.jpg"}, {"year": 2023, "rank": 3, "title": "Oppenheimer", "boxOffice": 975.4, "genre": "Drame historique", "director": "Christopher Nolan", "poster": "https://image.tmdb.org/t/p/w500/8Gxv2mYmUpeZekv0YpS66YnSOTl.jpg"}, {"year": 2023, "rank": 4, "title": "Guardians of the Galaxy Vol. 3", "boxOffice": 845.6, "genre": "Action / Super-héros", "director": "James Gunn", "poster": "https://image.tmdb.org/t/p/w500/g.jpg"}, {"year": 2023, "rank": 5, "title": "Fast X", "boxOffice": 704.9, "genre": "Action", "director": "Louis Leterrier", "poster": "https://image.tmdb.org/t/p/w500/fiVW0qBtLZ7zSnyYm4YvYpPa9v9.jpg"}];

function switchView(view, event) {
    document.querySelectorAll('.btn').forEach(b => b.classList.remove('active'));
    if(event) event.target.classList.add('active');
    
    const container = d3.select("#mainView");
    container.selectAll("*").remove();

    if (view === 'overview') renderOverview();
    else if (view === 'genres') renderGenreStats();
    else if (view === 'gallery') renderGallery();
}

function renderOverview() {
    const margin = {top: 40, right: 30, bottom: 100, left: 80},
          width = 1200 - margin.left - margin.right,
          height = 600 - margin.top - margin.bottom;

    const svg = d3.select("#mainView").append("svg")
        .attr("viewBox", `0 0 ${width + margin.left + margin.right} ${height + margin.top + margin.bottom}`)
      .append("g")
        .attr("transform", `translate(${margin.left},${margin.top})`);

    const data = [...movieData].sort((a,b) => b.boxOffice - a.boxOffice).slice(0, 25);

    const x = d3.scaleBand().range([0, width]).padding(0.3).domain(data.map(d => d.title));
    const y = d3.scaleLinear().range([height, 0]).domain([0, 3000]);

    svg.append("g").attr("class", "axis")
        .attr("transform", `translate(0,${height})`)
        .call(d3.axisBottom(x)).selectAll("text")
        .attr("transform", "rotate(-40)").style("text-anchor", "end");

    svg.append("g").attr("class", "axis")
        .call(d3.axisLeft(y).ticks(6).tickFormat(d => `$${d}M`));

    svg.selectAll(".bar")
        .data(data)
        .enter().append("rect")
        .attr("x", d => x(d.title))
        .attr("width", x.bandwidth())
        .attr("fill", "url(#barGradient)")
        .attr("y", height)
        .attr("height", 0)
        .on("mouseenter", (e, d) => {
            d3.select("#tooltip").style("opacity", 1).html(`
                <div style="font-size:1.1rem; font-weight:600; margin-bottom:5px">${d.title}</div>
                <div style="color:var(--accent); font-weight:700">$${d.boxOffice} Million</div>
                <div style="font-size:0.85rem; margin-top:5px">Rank #${d.rank} in ${d.year}</div>
            `).style("left", (e.pageX + 15) + "px").style("top", (e.pageY - 20) + "px");
        })
        .on("mouseleave", () => d3.select("#tooltip").style("opacity", 0))
        .transition().duration(1000)
        .attr("y", d => y(d.boxOffice))
        .attr("height", d => height - y(d.boxOffice));

    // Gradient definition
    const defs = svg.append("defs");
    const grad = defs.append("linearGradient").attr("id", "barGradient").attr("x1", "0%").attr("y1", "100%").attr("x2", "0%").attr("y2", "0%");
    grad.append("stop").attr("offset", "0%").attr("stop-color", "#818cf8");
    grad.append("stop").attr("offset", "100%").attr("stop-color", "#38bdf8");
}

function renderGenreStats() {
    const genreMap = d3.rollup(movieData, v => v.length, d => d.genre);
    const data = Array.from(genreMap, ([name, value]) => ({name, value})).sort((a,b) => b.value - a.value);

    const width = 1000, height = 500;
    const svg = d3.select("#mainView").append("svg").attr("viewBox", `0 0 ${width} ${height}`);

    const x = d3.scaleBand().range([100, width-50]).padding(0.4).domain(data.map(d => d.name));
    const y = d3.scaleLinear().range([height-100, 50]).domain([0, d3.max(data, d => d.value)]);

    svg.append("g").attr("transform", `translate(0,${height-100})`).call(d3.axisBottom(x)).style("color", "#94a3b8");

    svg.selectAll("rect")
        .data(data)
        .enter().append("rect")
        .attr("x", d => x(d.name))
        .attr("width", x.bandwidth())
        .attr("fill", "#38bdf8")
        .attr("rx", 6)
        .attr("y", height-100)
        .attr("height", 0)
        .transition().duration(800)
        .attr("y", d => y(d.value))
        .attr("height", d => height - 100 - y(d.value));

    svg.selectAll(".lbl")
        .data(data)
        .enter().append("text")
        .attr("x", d => x(d.name) + x.bandwidth()/2)
        .attr("y", d => y(d.value) - 15)
        .attr("text-anchor", "middle").style("fill", "white").style("font-weight", "600")
        .text(d => d.value);
}

function renderGallery() {
    d3.select("#mainView").html(`
        <div class="gallery-header">
            <div class="search-wrapper">
                <input type="text" id="search" placeholder="Search by movie, director, or genre..." onkeyup="filterMovies()">
            </div>
            <div id="statsCount" style="font-weight:600; color:var(--accent)">55 Movies Found</div>
        </div>
        <div id="movieGrid" class="movie-grid"></div>
    `);
    displayGrid(movieData);
}

function displayGrid(list) {
    const grid = document.getElementById('movieGrid');
    grid.innerHTML = list.map(m => `
        <div class="movie-card">
            <div class="rank-tag">#${m.rank}</div>
            <img src="${m.poster}" loading="lazy" onerror="this.src='https://via.placeholder.com/300x450?text=${m.title.replace(/ /g, '+')}'">
            <div class="card-info">
                <div class="card-title">${m.title}</div>
                <div class="card-meta">
                    ${m.year} • ${m.genre}<br>
                    <strong>$${m.boxOffice}M</strong>
                </div>
            </div>
        </div>
    `).join('');
    document.getElementById('statsCount').innerText = `${list.length} Movies Showing`;
}

function filterMovies() {
    const q = document.getElementById('search').value.toLowerCase();
    const filtered = movieData.filter(m => 
        m.title.toLowerCase().includes(q) || 
        m.genre.toLowerCase().includes(q) || 
        m.director.toLowerCase().includes(q)
    );
    displayGrid(filtered);
}

// Start with Revenue Analysis
switchView('overview');
</script>
</body>
</html>
